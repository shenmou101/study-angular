<!DOCTYPE html>
<html lang="en" ng-app="djMod">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../lib/bootstrap/dist/css/bootstrap.css">
    <style>
    </style>
</head>
<body class="container" ng-controller="djCtrl">
当前时间：<span zf-current-time></span>
</body>
<script src="../lib/angular/angular.js"></script>
<script>
    /*
    * 每个angular应用只有一个根$rootScope对象(ng-app)
    * 子$scope对象遵循原型继承，会继承父$scope上的属性和方法
    *
    * */
    angular.module('djMod',[]);
    angular.module('djMod').controller('djCtrl', function ($scope) {

    });
    angular.module('djMod').directive('zfCurrentTime', function ($interval) {
        return {
            //连接函数 实现dom操作 scope赋值的
            link: function (scope,element,attrs) {
                function updateTime(){
                    element.html(new Date().toLocaleString());
                }
                var timeoutId = $interval(function () {
                    updateTime();
                },1000)
            }
        }
    })
</script>
</html>